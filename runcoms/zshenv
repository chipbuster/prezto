#
# Defines environment variables.
#
# Authors:
#   Sorin Ionescu <sorin.ionescu@gmail.com>
#

# Ensure that a non-login, non-interactive shell has a defined environment.
if [[ "$SHLVL" -eq 1 && ! -o LOGIN && -s "${ZDOTDIR:-$HOME}/.zprofile" ]]; then
  source "${ZDOTDIR:-$HOME}/.zprofile"
fi

# ^^^ For ZPresto | vvv User Config

# .zshenv created by Kevin Song for use on OS X and Linux

# Check our OS Type
OSNAME="unknown"
case $OSTYPE in 
    darwin*)
        OSNAME="osx"
        ;;
    linux*)
        OSNAME="linux"
        ;;
    *bsd*)
        OSNAME="bsd"
        ;;
esac

PATH=$PATH:~/.cabal/bin:~/.local/bin  #Cabal and Stack (repsectively)
PATH=$PATH:~/.gem/ruby/2.0.0/bin   #PATH for RubyGems (e.g. grunt)
export MANPATH=/opt/local/share/man:$MANPATH
export EDITOR=vim

if [ "$OSNAME" = "osx" ]; then
    . /Users/chipbuster/.opam/opam-init/init.zsh > /dev/null 2> /dev/null || true

    #Make sure clang knows about our homebuilt libraries
    #export LIBRARY_PATH=$LIBRARY_PATH:/opt/local/lib

    PATH=/opt/local/bin:/opt/local/sbin:$PATH #Path for manual installs
    PATH=/opt/anaconda/python3/bin:/opt/anaconda/python2/bin:$PATH #conda paths
    PATH=$PATH:/Users/chipbuster/Applications/scripts #Homegrown

    #Add rudimentary history to sftp on OS X
    alias sftp="rlwrap sftp"

    #Homebrew options
    export HOMEBREW_GITHUB_API_TOKEN="873fb03716e6d95af05402c1e94e4605b95bc6fe"

    #Rebind text tools to their GNU variants
    alias awk=gawk
    alias sed=gsed

    #Rebind emacsclient
    function emcl(){
    (nohup emacsclient $@ &) &>/dev/null
    }
  
elif [ "$OSNAME" = "linux" ]; then
    #Do some linuxy-things
  
elif [ "$OSNAME" = "bsd" ]; then
    #Do some BSD things
  
else
    echo "Warning: could not deduce OS type from \$OSTYPE"
fi

export PATH
